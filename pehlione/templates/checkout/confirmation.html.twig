{% extends 'base.html.twig' %}

{% block title %}Order Confirmation - Pehlione
{% endblock %}

{% block body %}
	<div class="bg-white">
		<div
			class="mx-auto max-w-2xl px-4 py-16 sm:px-6 lg:px-8">
			<!-- Success Icon -->
			<div class="text-center mb-8">
				<div class="mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4">
					<svg class="w-8 h-8 text-green-600" fill="none" stroke="currentColor" viewbox="0 0 24 24">
						<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
					</svg>
				</div>
				<h1 class="text-3xl font-bold text-gray-900">Order Confirmed!</h1>
				<p class="text-lg text-gray-600 mt-2">Thank you for your order.</p>
			</div>

			<!-- Order Details -->
			<div class="rounded-lg border border-gray-200 p-8 mb-8">
				<div class="grid grid-cols-2 gap-8 mb-8">
					<div>
						<h3 class="text-sm font-medium text-gray-600 mb-1">Order Number</h3>
						<p class="text-2xl font-semibold text-gray-900">{{ order.orderNumber }}</p>
					</div>
					<div>
						<h3 class="text-sm font-medium text-gray-600 mb-1">Order Date</h3>
						<p class="text-lg text-gray-900">{{ order.createdAt|date('M d, Y') }}</p>
					</div>
				</div>

				<div class="border-t border-gray-200 pt-8">
					<h2 class="text-lg font-semibold text-gray-900 mb-4">Order Items</h2>
					<div class="space-y-4">
						{% for item in order.items %}
							<div class="flex justify-between py-4 border-b border-gray-100">
								<div>
									<p class="font-medium text-gray-900">{{ item.product.name }}</p>
									<p class="text-sm text-gray-600">Qty:
										{{ item.quantity }}</p>
								</div>
								<p class="font-medium text-gray-900">${{ item.lineTotal }}</p>
							</div>
						{% endfor %}
					</div>
				</div>

				<div class="border-t border-gray-200 pt-8 mt-8">
					<div class="space-y-2 text-sm">
						<div class="flex justify-between">
							<span class="text-gray-600">Subtotal</span>
							<span class="text-gray-900">${{ order.subtotal }}</span>
						</div>
						<div class="flex justify-between">
							<span class="text-gray-600">Shipping</span>
							<span class="text-gray-900">${{ order.shippingAmount }}</span>
						</div>
						<div class="flex justify-between">
							<span class="text-gray-600">Tax</span>
							<span class="text-gray-900">${{ order.taxAmount }}</span>
						</div>
						<div class="flex justify-between text-base font-semibold pt-4 border-t border-gray-200">
							<span class="text-gray-900">Total</span>
							<span class="text-gray-900">${{ order.totalAmount }}</span>
						</div>
					</div>
				</div>
			</div>

			<!-- Shipping Address -->
			<div class="rounded-lg border border-gray-200 p-8 mb-8">
				<h2 class="text-lg font-semibold text-gray-900 mb-4">Shipping Address</h2>
				<p class="text-gray-900 font-medium">
					{{ order.user.address.firstName }}
					{{ order.user.address.lastName }}
				</p>
				<p class="text-gray-600 text-sm mt-1">
					{{ order.user.address.strasse }}
					{{ order.user.address.hausnummer }}
				</p>
				<p class="text-gray-600 text-sm">
					{{ order.user.address.postalCode }}
					{{ order.user.address.city }}
				</p>
				<p class="text-gray-600 text-sm">
					{{ order.user.address.region }},
					{{ order.user.address.countryCode }}
				</p>
			</div>

			<!-- Next Steps -->
			<div class="bg-blue-50 border border-blue-200 rounded-lg p-6 mb-8">
				<h3 class="font-semibold text-blue-900 mb-2">What happens next?</h3>
				<ul class="text-sm text-blue-800 space-y-1">
					<li>✓ You will receive an order confirmation email shortly</li>
					<li>✓ Your order will be processed within 1-2 business days</li>
					<li>✓ You'll receive a shipping notification with tracking information</li>
				</ul>
			</div>

			<!-- Actions -->
			<div class="flex gap-4">
				<a href="{{ path('app_product_index') }}" class="flex-1 text-center rounded-lg bg-indigo-600 text-white font-semibold py-3 hover:bg-indigo-700">
					Continue Shopping
				</a>
				<a href="{{ path('app_account_profile') }}" class="flex-1 text-center rounded-lg border border-gray-300 text-gray-900 font-semibold py-3 hover:bg-gray-50">
					My Account
				</a>
			</div>
		</div>
	</div>
{% endblock %}
