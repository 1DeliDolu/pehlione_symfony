{% extends 'base.html.twig' %}

{% block title %}My Profile - Pehlione
{% endblock %}

{% block body %}
	<div class="bg-white min-h-screen py-12 px-4 sm:px-6 lg:px-8">
		<div
			class="mx-auto max-w-4xl">
			<!-- Header -->
			<div class="mb-8">
				<a href="{{ path('app_product_index') }}" class="text-indigo-600 hover:text-indigo-700 text-sm font-medium">
					‚Üê Back to Products
				</a>
				<h1 class="text-4xl font-bold tracking-tight text-gray-900 mt-4">My Profile</h1>
			</div>

			<form
				class="space-y-12" method="POST" enctype="multipart/form-data">
				<!-- Profile Section -->
				<div class="border-b border-gray-200 pb-12">
					<h2 class="text-base/7 font-semibold text-gray-900">Profile</h2>
					<p class="mt-1 text-sm/6 text-gray-600">Manage your profile information and avatar.</p>

					<div class="mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6">
						<div class="col-span-full">
							<label class="block text-sm/6 font-medium text-gray-900">Photo</label>
							<div class="mt-2 flex items-center gap-x-3">
								<img src="{{ user.avatarPath ? asset(user.avatarPath) : asset('images/avatar-placeholder.png') }}" class="h-12 w-12 rounded-full bg-gray-200 object-cover" alt="{{ user.firstname }} {{ user.lastname }}">
								<label class="relative cursor-pointer">
									<span class="rounded-md bg-gray-100 px-3 py-2 text-sm font-semibold text-gray-900 border border-gray-300 hover:bg-gray-50">
										Change
									</span>
									<input type="file" name="avatar" accept="image/*" class="hidden" onchange="this.form.submit()">
								</label>
							</div>
						</div>

						<div class="sm:col-span-3">
							<label for="firstname" class="block text-sm/6 font-medium text-gray-900">First name</label>
							<div class="mt-2">
								<input id="firstname" type="text" name="firstname" value="{{ user.firstname ?? '' }}" readonly class="block w-full rounded-md bg-gray-50 px-3 py-1.5 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-500 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"/>
							</div>
						</div>

						<div class="sm:col-span-3">
							<label for="lastname" class="block text-sm/6 font-medium text-gray-900">Last name</label>
							<div class="mt-2">
								<input id="lastname" type="text" name="lastname" value="{{ user.lastname ?? '' }}" readonly class="block w-full rounded-md bg-gray-50 px-3 py-1.5 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-500 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"/>
							</div>
						</div>

						<div class="sm:col-span-4">
							<label for="email" class="block text-sm/6 font-medium text-gray-900">Email address</label>
							<div class="mt-2">
								<input id="email" type="email" name="email" value="{{ user.email }}" readonly class="block w-full rounded-md bg-gray-50 px-3 py-1.5 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-500 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"/>
							</div>
						</div>

						<div class="sm:col-span-2">
							<label for="member-since" class="block text-sm/6 font-medium text-gray-900">Member since</label>
							<div class="mt-2">
								<input id="member-since" type="text" name="member-since" value="{% if user.createdAt %}{{ user.createdAt|date('M d, Y') }}{% else %}N/A{% endif %}" readonly class="block w-full rounded-md bg-gray-50 px-3 py-1.5 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-500 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"/>
							</div>
						</div>
					</div>
				</div>

				<!-- Account Settings Section -->
				<div class="border-b border-gray-200 pb-12">
					<h2 class="text-base/7 font-semibold text-gray-900">Account Settings</h2>
					<p class="mt-1 text-sm/6 text-gray-600">Manage your account security and preferences.</p>

					<div class="mt-10 space-y-6">
						<a href="{{ path('app_account_address') }}" class="block rounded-md border border-gray-300 bg-gray-50 px-4 py-3 text-sm font-medium text-gray-900 hover:bg-gray-100 transition">
							<div class="flex items-center justify-between">
								<div>
									<p class="font-semibold">Shipping Address</p>
									<p class="mt-1 text-xs text-gray-600">Manage your delivery address</p>
								</div>
								<svg class="h-5 w-5 text-gray-600" fill="none" stroke="currentColor" viewbox="0 0 24 24">
									<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
								</svg>
							</div>
						</a>

						<a href="{{ path('app_change_password') }}" class="block rounded-md border border-gray-300 bg-gray-50 px-4 py-3 text-sm font-medium text-gray-900 hover:bg-gray-100 transition">
							<div class="flex items-center justify-between">
								<div>
									<p class="font-semibold">Change Password</p>
									<p class="mt-1 text-xs text-gray-600">Update your account password</p>
								</div>
								<svg class="h-5 w-5 text-gray-600" fill="none" stroke="currentColor" viewbox="0 0 24 24">
									<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
								</svg>
							</div>
						</a>
					</div>
				</div>

				<!-- Orders Section -->
				<div class="border-b border-gray-200 pb-12">
					<h2 class="text-base/7 font-semibold text-gray-900">Orders</h2>
					<p class="mt-1 text-sm/6 text-gray-600">View and manage your purchase history.</p>

					<div class="mt-10">
						<a href="{{ path('orders_list') }}" class="block rounded-md border border-gray-300 bg-gray-50 px-4 py-3 text-sm font-medium text-gray-900 hover:bg-gray-100 transition">
							<div class="flex items-center justify-between">
								<div>
									<p class="font-semibold">View All Orders</p>
									<p class="mt-1 text-xs text-gray-600">See your complete order history</p>
								</div>
								<svg class="h-5 w-5 text-gray-600" fill="none" stroke="currentColor" viewbox="0 0 24 24">
									<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
								</svg>
							</div>
						</a>
					</div>
				</div>

				<!-- Danger Zone Section -->
				<div class="border-b border-red-200 pb-12">
					<h2 class="text-base/7 font-semibold text-red-600">Danger Zone</h2>
					<p class="mt-1 text-sm/6 text-gray-600">Irreversible actions that require careful consideration.</p>

					<div class="mt-10">
						<button type="button" class="rounded-md bg-red-50 border border-red-200 px-3 py-2 text-sm font-semibold text-red-600 hover:bg-red-100 transition">
							Delete Account
						</button>
					</div>
				</div>
			</form>

			<!-- Footer Actions -->
			<div class="mt-6 flex items-center justify-end gap-x-6">
				<a href="{{ path('app_product_index') }}" class="text-sm/6 font-semibold text-gray-900 hover:text-gray-700">
					Back
				</a>
			</div>
		</div>
	</div>
{% endblock %}
