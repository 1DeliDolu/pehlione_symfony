{% extends 'admin/_layout.html.twig' %}

{% block title %}{{ address.user.firstname ?? 'N/A' }} {{ address.user.lastname ?? 'N/A' }} - Admin{% endblock %}

{% block admin_content %}
	<div>
		<div>
			<div class="flex flex-col md:flex-row md:items-end md:justify-between gap-4 mb-6">
				<div>
					<h1 class="text-2xl font-semibold">{{ address.user.firstname ?? 'N/A' }} {{ address.user.lastname ?? 'N/A' }}</h1>
					<p class="mt-1 text-sm text-gray-600">Address details</p>
				</div>
				<a href="{{ path('admin_address_index') }}" class="inline-flex items-center rounded-xl px-4 py-2 text-sm font-medium text-gray-700 ring-1 ring-inset ring-gray-200 hover:bg-gray-50">
					â† Back to Addresses
				</a>
			</div>

			<div class="grid grid-cols-1 gap-8 sm:grid-cols-2">
				<div>
					<h2 class="text-lg font-medium text-gray-900 mb-4">Address Details</h2>
					<dl class="space-y-4">
						<div>
							<dt class="text-sm font-medium text-gray-500">Street</dt>
							<dd class="text-sm text-gray-900">{{ address.strasse }}
								{{ address.hausnummer }}</dd>
						</div>
						<div>
							<dt class="text-sm font-medium text-gray-500">City</dt>
							<dd class="text-sm text-gray-900">{{ address.city }},
								{{ address.region }}
								{{ address.postalCode }}</dd>
						</div>
						<div>
							<dt class="text-sm font-medium text-gray-500">Country Code</dt>
							<dd class="text-sm text-gray-900">{{ address.countryCode }}</dd>
						</div>
						{% if address.phone %}
							<div>
								<dt class="text-sm font-medium text-gray-500">Phone</dt>
								<dd class="text-sm text-gray-900">{{ address.phone }}</dd>
							</div>
						{% endif %}
					</dl>
				</div>

				<div>
					<h2 class="text-lg font-medium text-gray-900 mb-4">User & Metadata</h2>
					<dl class="space-y-4">
						<div>
							<dt class="text-sm font-medium text-gray-500">User</dt>
							<dd class="text-sm text-gray-900">
								{{ address.user.email }}
							</dd>
						</div>
						<div>
							<dt class="text-sm font-medium text-gray-500">Created At</dt>
							<dd class="text-sm text-gray-900">{{ address.createdAt ? address.createdAt|date('Y-m-d H:i') : 'N/A' }}</dd>
						</div>
						<div>
							<dt class="text-sm font-medium text-gray-500">Updated At</dt>
							<dd class="text-sm text-gray-900">{{ address.updatedAt ? address.updatedAt|date('Y-m-d H:i') : 'N/A' }}</dd>
						</div>
					</dl>
				</div>
			</div>

			<div class="mt-8 flex gap-4">
				<a href="{{ path('admin_address_edit', {'id': address.id}) }}" class="inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700">
					Edit
				</a>
				<form method="post" action="{{ path('admin_address_delete', {'id': address.id}) }}" style="display:inline;" onsubmit="return confirm('Are you sure?');">
					<input type="hidden" name="_token" value="{{ csrf_token('delete' ~ address.id) }}">
					<button class="inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700" type="submit">
						Delete
					</button>
				</form>
				<a href="{{ path('admin_address_index') }}" class="inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50">
					Back
				</a>
			</div>
		</div>
	</div>
{% endblock %}
